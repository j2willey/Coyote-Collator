# Camporee Configuration Schema (v2.8)

This document describes the structure of the **Camporee Config Zip** (`CamporeeConfig.zip`) generated by the Camporee Designer. This package contains all data required to run the event, including metadata, game definitions, and reusable scoring templates.

## 1. Zip Archive Structure

The archive must contain the following files and directories:

* **`camporee.json`**: The root manifest containing event metadata and the game playlist.
* **`presets.json`**: A library of reusable "Atomic" scoring fields.
* **`games/`**: A directory containing individual JSON definition files for each game.
    * `games/{gameId}.json`: The complete definition for a single game.

---

## 2. Camporee Manifest (`camporee.json`)

This file acts as the entry point for the event configuration.

```json
{
  "schemaVersion": "2.8",
  "meta": {
    "title": "Silicon Valley Camporee 2026",
    "theme": "CyberScouts",
    "year": 2026,
    "director": "Jim Willey"
  },
  "playlist": [
    {
      "gameId": "game_170830123",
      "enabled": true,
      "order": 1
    }
  ]
}
```

### Attributes
* **`schemaVersion`**: (String) Version identifier (currently "2.8").
* **`meta`**: (Object) High-level event details.
* **`playlist`**: (Array) Defines which games are active and their sort order in the main list.
    * `gameId`: Must match the filename in the `games/` folder (minus .json).
    * `enabled`: Boolean. If false, the game is hidden from the scoring list.
    * `order`: Integer. Determines display order.

---

## 3. Presets Library (`presets.json`)

This file contains a flat list of "Atomic Presets"—single scoring fields that can be injected into any game.

**Structure:** An Array of **[Scoring Component Objects](#5-scoring-component-object)**.

```json
[
  {
    "id": "p_flag",
    "label": "Patrol Flag",
    "type": "number",
    "kind": "points",
    "weight": 10,
    "audience": "judge",
    "config": { "min": 0, "max": 10 }
  }
]
```

---

## 4. Game Definitions (`games/*.json`)

Each file in the `games/` folder represents a single station or activity. These files are "self-contained," meaning they contain all necessary scoring fields.

```json
{
  "id": "game_170830123",
  "type": "patrol",
  "sortOrder": 10,
  "schemaVersion": "2.8",
  "content": {
    "title": "Knot Tying Relay",
    "story": "You are stranded on a desert island...",
    "instructions": "Tie 3 knots in under 2 minutes."
  },
  "scoring": {
    "method": "points_desc",
    "components": [
      ... // Array of Scoring Component Objects
    ]
  }
}
```

### Attributes
* **`type`**: (String) The competition domain. Values: `"patrol"`, `"troop"`, `"exhibition"`.
* **`sortOrder`**: (Integer) Defines the display order within its specific Type tab (e.g., 10, 20, 30).
* **`content`**: Text content displayed to users.
    * `title`: The name of the game.
    * `story`: The narrative read to the Scouts.
    * `instructions`: Technical rules for the activity.
* **`scoring`**: Logic for how the winner is determined.
    * `method`:
        * `"points_desc"`: Highest score wins (Standard).
        * `"timed_asc"`: Lowest time wins (Race).
    * `components`: Array of **[Scoring Component Objects](#5-scoring-component-object)**.

---

## 5. Scoring Component Object

This is the fundamental building block used in both `games/*.json` and `presets.json`. It defines a single input field on the judge's tablet.

```json
{
  "id": "field_17024332",
  "label": "Knot Time",
  "type": "stopwatch",
  "kind": "metric",
  "weight": 0,
  "audience": "judge",
  "sortOrder": 10,
  "config": {
    "min": 0,
    "max": 300,
    "placeholder": "Enter seconds..."
  }
}
```

### Attributes Table

| Field | Type | Description |
| :--- | :--- | :--- |
| **`id`** | String | Unique identifier for the field. |
| **`label`** | String | The name displayed to the user (e.g., "Patrol Spirit"). |
| **`type`** | Enum | The UI Input Control:<br>• `number`: Standard numeric keypad.<br>• `stopwatch`: Start/Stop timer.<br>• `text`: Short text input.<br>• `textarea`: Long text block.<br>• `checkbox`: Boolean toggle. |
| **`kind`** | Enum | The Scoring Logic:<br>• `points`: Adds to score (+).<br>• `penalty`: Subtracts from score (-).<br>• `metric`: Raw data (Time/Count) not added to score.<br>• `info`: Metadata (Notes/Names) not scored. |
| **`weight`** | Float | Multiplier. Usually `1` for points, `-1` for penalties, `0` for metrics/info. |
| **`audience`** | Enum | Visibility Permissions:<br>• `judge`: Visible to everyone (Station Judges & Officials).<br>• `admin`: Hidden from Station Judges. Visible only to Officials. |
| **`config`** | Object | Optional constraints:<br>• `min`/`max`: Validation limits.<br>• `placeholder`: Hint text inside the input. |
| **`sortOrder`**| Integer| Order of the field within the form (10, 20, 30...). |

---

## 6. Directory Organization (Reference Implementation)

While the Designer exports a flat Zip, the repository may organize multiple Camporees using subdirectories for testing/historical purposes:

* `camporee/`
    * `camp0001/` (Specific Event)
        * `camporee.json`
        * `presets.json`
        * `games/`

